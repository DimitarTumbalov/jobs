<div class="row justify-content-center">
  <div class="col-xl-3 col-lg-3 col-md-4 col-12 mb-3">
    <div class="bg-light p-4 shadow-sm">
      <h3 class="mb-4">Actions</h3>
      <div class="btn-group" style="flex-wrap: wrap;">
        <button *ngIf="loggedUser.id === job?.userId" class="btn btn-warning shadow-none col-auto me-2">Edit</button>
        <button *ngIf="loggedUser.id === job?.userId" (click)="onJobDelete()" class="btn btn-danger shadow-none col-auto me-2">Delete</button>
        <button *ngIf="loggedUser.id !== job?.userId"
                (click)="onJobApply()"
                class="btn shadow-none col-auto me-2"
                [ngClass]="(job?.applied === true) ? 'btn-success' : 'btn-outline-success'">
          {{(job?.applied === true) ? 'Applied' : 'Apply'}}
        </button>
        <button *ngIf="loggedUser.id !== job?.userId"
                (click)="onJobLike()"
                [ngClass]="[loggedUser.id === job?.userId ? 'disabled' : '', (job?.likedByMe === true) ? 'btn-primary': 'btn-outline-primary']"
                class="btn shadow-none col-auto">
          Likes {{job?.likes !== null ? job?.likes?.length : 0}}
        </button>
      </div>
      <h3 class="my-4">Applications</h3>
      <div class="btn-group" style="flex-wrap: wrap;">
        <ng-container *ngIf="job?.applications?.length">
          <div *ngFor="let application of job?.applications"  class="mt-1" style="width: 100%;">
              {{application.user?.firstName + ' ' + application.user?.lastName}}
            <button *ngIf="application?.accepted === null" (click)="onRejectApplication(application)" type="button" class="btn bg-danger text-light mx-1">Reject</button>
            <button *ngIf="application?.accepted === null" (click)="onAcceptApplication(application)" type="button" class="btn bg-success text-light">Accept</button>
            <p class="fw-bold" [ngClass]="(application?.accepted === true ) ? 'text-success' : 'text-danger'" *ngIf="application?.accepted !== null">{{application?.accepted === true ? 'Accepted' : 'Rejected' }}</p>
          </div>
        </ng-container>
      </div>
    </div>
  </div>
  <div class="col-xl-9 col-lg-9 col-md-8 col-12 bg-light p-4 shadow-sm">
    <h2>{{job?.title}}</h2>
    <h6>{{job?.user?.organizationName}}</h6>
    <p class="mt-4">{{job?.description}}</p>
  </div>
</div>
